<!DOCTYPE html>
<html>
<head>
  <!-- Standard Meta -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <link rel="stylesheet" type="text/css" href="/files/semantic/semantic.css">
  <link rel="stylesheet" type="text/css" href="/files/custom.css">
  <!-- Site Properties -->
  <title>Histblogger-Editor</title>
 <script src="/files/library/jquery.min.js"></script>
    <script src="/files/library/marked.min.js"></script>
  <script src="/files/library/vue.js"></script>
  <script src="/files/library/fabricjs.min.js"></script>
    <script src="/files/semantic/semantic.min.js"></script>
  
  
</head>
<body>
<div id="app" class="ui container">
   <h1>Edit - {{pic.Title}}</h1>
   <div class="ui grid">
       <div class="six wide column">
   <form class="ui form">
       <div class="field">
           <b>ID:</b> {{pic.ID}}
       </div>
       <div class="field">
           <b>Status:</b> 
           <select v-model="pic.Status">
            <option v-for="s in status" value="{{s}}">{{s}}</option>
            </select>
       </div>



         <!-- Accordion Definition -->
        <div class="ui styled accordion">
            
            <div class="title"><i class="icon dropdown"></i>Data</div>
            <div class="content">
          
                <div class="field" v-for="el in form">
                <label>{{el[0]}}:</label>
                <input type="text" v-model="pic[el[1]]">
                </div>
            
            </div>
        

            <div class="title"><i class="icon dropdown"></i>Persons</div>
            <div class="content">
            <div class="field">
            <table class="ui striped table">
               <tr v-for="p in pic.Persons">
                   <td>{{p.FullName}}</td>
                   <td>{{p.GND}}</td>
                   <td><span v-on:click="removePerson($index)" class="ui icon button">
                        <i  class="remove circle icon"></i>
                    </span>
                   </td>
               </tr>
               <tr>
                   
                  <td><div v-on:click="addPerson" class="ui icon button">           
                <i class="add circle icon"></i> add person
                </div></td>
                   <td></td>
                   <td></td></tr>
                </table>        
            </div>
            </div>

            <div class="title"><i class="icon dropdown"></i>Text</div>
            <div class="content">
            <div class="field">
                
                <textarea v-model="pic.Text"></textarea>
            </div>
            </div>

             <div class="title"><i class="icon dropdown"></i>Areas</div>
            <div class="content">
                <div class="accordion">
                    
                    <div  v-for="area in pic.Areas">
                        <div class="title" style="background-color: {{area.rect.fill}};filter:opacity(50%);">
                            <i class="icon dropdown"></i>
                            <span>{{area.areaID}}</span></div>
                        <div class="content">
                        <div class="fields">
                        <div class="field">
                            <label>Name:</label>
                            <input type="text" v-model="area.areaID">
                            </div>
                            <div class="field">
                                <label>Color:</label>
                                <select v-model="area.rect.fill">
                            <option v-for="c in colors" value="{{c}}">{{c}}</option>
                            </select>
                            </div>
                        </div>
                        <div class="field">
                            <textarea v-model="area.Text"></textarea>
                        </div>
                        <div class="field">
                            <span v-on:click="removeArea($index)" class="ui icon button">
                            <i  class="remove circle icon"></i>Remove area
                            </span></div>
                        </div>
                    </div>
                </div>
                <div v-on:click="addArea" class="ui icon button">           
                <i class="add circle icon"></i> add area
                </div>
            </div>

        </div>
   </form>



   <button v-on:click="saveData" class="ui primary button">
  Save
</button>
       </div>
       <div class="nine wide column">
            <div v-for="el in form">
               <b>{{el[0]}}</b><br>
               {{pic[el[1]]}}
           </div>
           <div v-html="pic.Text | marked"></div>
           <canvas id="picture" width="800" height="800">
           </canvas>
           <!--<img v-bind:src="picSrc">-->
           
          

       </div>
   </div>
</div>

<script src="/files/form.js"></script>

</body>
</html>